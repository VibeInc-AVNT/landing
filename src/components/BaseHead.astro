---
import "../styles/global.css";
---

<meta name="viewport" content="width=device-width" />
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="author" content="Vibe Team" />
<meta name="keywords" content="Vibe" />

<!-- Favicon guidelines generated with https://favicon.io/ -->
<link rel="apple-touch-icon" sizes="180x180" href="/favicons/apple-touch-icon.png" />
<link rel="icon" type="image/ico" sizes="64x64" href="/favicon.ico" />
<link rel="icon" type="image/png" sizes="64x64" href="/pwa-64x64.png" />
<link rel="icon" type="image/png" sizes="192x192" href="/pwa-192x192.png" />
<link rel="icon" type="image/png" sizes="512x512" href="/pwa-512x512.png" />
<link rel="manifest" href="/manifest.webmanifest" />
<link rel="mask-icon" href="/maskable-icon.png" color="#000000" />
<meta name="msapplication-TileColor" content="#ffffff" />
<meta name="theme-color" content="#ffffff" />

<script is:inline>
	(function () {
		try {
			const prefersDark = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
			const stored = (typeof localStorage !== 'undefined' && localStorage.getItem('theme')) || null;
			const theme = stored ? stored : (prefersDark ? 'dark' : 'light');
			if (theme === 'dark') document.documentElement.classList.add('dark');
			else document.documentElement.classList.remove('dark');
			const meta = document.querySelector('meta[name="theme-color"]');
			if (meta) meta.setAttribute('content', theme === 'dark' ? '#0f172a' : '#ffffff');
		} catch (e) {}
	})();
</script>

<!-- HTML in your document's head -->
<link rel="preconnect" href="https://rsms.me/" />
<link rel="preconnect" href="https://fonts.googleapis.com" />
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
<link rel="stylesheet" href="https://rsms.me/inter/inter.css" />
<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;700&display=swap" />
<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Arimo:wght@400;700&display=swap" />

<!-- Scripts -->
<script defer src="https://unpkg.com/alpinejs@3.13.3/dist/cdn.min.js"></script>

<script is:inline>
	const startingWith =
		(subject, replacement) =>
		({ name, value }) => {
			if (name.startsWith(subject)) {
				name = name.replace(subject, replacement);
			}
			return { name, value };
		};

	document.addEventListener("alpine:init", () => {
		Alpine.prefix("data-x");
		Alpine.mapAttributes(startingWith("data-xon.", Alpine.prefixed("on:")));
		Alpine.mapAttributes(startingWith("data-xbind.", Alpine.prefixed("bind:")));
	});
</script>

<script is:inline>
	if ("paintWorklet" in CSS) {
		CSS.paintWorklet.addModule("https://www.unpkg.com/css-houdini-squircle@0.3.0/squircle.min.js");
	}
</script>
